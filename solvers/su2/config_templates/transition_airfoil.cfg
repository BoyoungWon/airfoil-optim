% SU2 Configuration File for Laminar-Turbulent Transition Analysis
% Gamma-Re-theta transition model for accurate prediction of transition location
%
% Usage: SU2_CFD transition_airfoil.cfg

% -------------------- PROBLEM DEFINITION --------------------%
SOLVER= RANS
KIND_TURB_MODEL= SST
FREESTREAM_TURBULENCEINTENSITY= 0.001
FREESTREAM_TURB2LAMVISCRATIO= 10.0
RESTART_SOL= NO
MATH_PROBLEM= DIRECT

% Enable Transition Model
% Available: LM (Langtry-Menter), BC (Abu-Ghannam-Shaw)
KIND_TRANS_MODEL= LM

% -------------------- COMPRESSIBLE FREE-STREAM DEFINITION --------------------%
MACH_NUMBER= 0.1
AOA= 4.0
SIDESLIP_ANGLE= 0.0
REYNOLDS_NUMBER= 1E6
FREESTREAM_TEMPERATURE= 288.15
REYNOLDS_LENGTH= 1.0

% -------------------- BOUNDARY CONDITIONS --------------------%
MARKER_HEATFLUX= ( airfoil, 0.0 )
MARKER_FAR= ( farfield )

% -------------------- REFERENCE VALUE DEFINITION --------------------%
REF_ORIGIN_MOMENT_X = 0.25
REF_ORIGIN_MOMENT_Y = 0.00
REF_ORIGIN_MOMENT_Z = 0.00
REF_LENGTH= 1.0
REF_AREA= 1.0
REF_DIMENSIONALIZATION= DIMENSIONAL

% -------------------- MARKER DEFINITIONS --------------------%
MARKER_PLOTTING= ( airfoil )
MARKER_MONITORING= ( airfoil )

% -------------------- NUMERICAL METHOD DEFINITION --------------------%
NUM_METHOD_GRAD= WEIGHTED_LEAST_SQUARES
CFL_NUMBER= 3.0
CFL_ADAPT= YES
CFL_ADAPT_PARAM= ( 0.2, 1.2, 1.0, 30.0 )
ITER= 8000

% -------------------- CONVECTIVE SCHEME --------------------%
CONV_NUM_METHOD_FLOW= ROE
MUSCL_FLOW= YES
CONV_NUM_METHOD_TURB= SCALAR_UPWIND
MUSCL_TURB= NO

% -------------------- LINEAR SOLVER DEFINITION --------------------%
LINEAR_SOLVER= FGMRES
LINEAR_SOLVER_PREC= ILU
LINEAR_SOLVER_ERROR= 1E-8
LINEAR_SOLVER_ITER= 20

% -------------------- SLOPE LIMITER DEFINITION --------------------%
SLOPE_LIMITER_FLOW= VENKATAKRISHNAN
SLOPE_LIMITER_TURB= NONE
VENKAT_LIMITER_COEFF= 0.01

% -------------------- MULTIGRID DEFINITION --------------------%
MGLEVEL= 2
MGCYCLE= V_CYCLE
MG_PRE_SMOOTH= ( 1, 2, 3 )
MG_POST_SMOOTH= ( 0, 0, 0 )
MG_CORRECTION_SMOOTH= ( 0, 0, 0 )
MG_DAMP_RESTRICTION= 0.8
MG_DAMP_PROLONGATION= 0.8

% -------------------- CONVERGENCE PARAMETERS --------------------%
CONV_FIELD= RMS_DENSITY
CONV_RESIDUAL_MINVAL= -12
CONV_STARTITER= 10
CONV_CAUCHY_ELEMS= 100
CONV_CAUCHY_EPS= 1E-7

% -------------------- INPUT/OUTPUT DEFINITION --------------------%
MESH_FILENAME= airfoil_mesh_fine.su2
MESH_FORMAT= SU2
SOLUTION_FILENAME= restart.dat
RESTART_FILENAME= restart.dat

% -------------------- OUTPUT DEFINITION --------------------%
% VTK/ParaView output only (TecIO and CGNS disabled in build)
TABULAR_FORMAT= CSV
OUTPUT_FILES= (RESTART, SURFACE_CSV, PARAVIEW)
SCREEN_OUTPUT= (INNER_ITER, RMS_DENSITY, LIFT, DRAG, RMS_TKE, RMS_DISSIPATION, RMS_INTERMITTENCY, RMS_RE_THETA)
HISTORY_OUTPUT= (ITER, RMS_RES, AERO_COEFF, TURB)
VOLUME_OUTPUT= (COORDINATES, SOLUTION, PRIMITIVE, RESIDUAL, INTERMITTENCY)
CONV_FILENAME= history
SURFACE_FILENAME= surface
VOLUME_FILENAME= volume
OUTPUT_WRT_FREQ= 100

% -------------------- MESH REQUIREMENTS --------------------%
% For accurate transition prediction:
% - y+ < 1 (wall-resolved)
% - Fine mesh near leading edge
% - Adequate streamwise resolution
